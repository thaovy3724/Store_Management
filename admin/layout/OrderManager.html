<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Admin CRUD - Demo</title>
  <!-- Bootstrap 5 -->
<!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
  <link rel="stylesheet" href="../css/admin.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
</head>
<body>

<!-- Topbar -->
<div class="topbar">
  <div class="brand">Admin Panel</div>
    <div class="d-flex align-items-center">
    <span class="user-info me-2">Xin chào, <a href="#" class="fw-bold text-decoration-none" style="color:#0d6efd">Ngô Đức Trọng</a></span>
    <span class="text-muted mx-2">|</span>
    <button class="btn btn-link btn-sm p-0 text-decoration-none" style="color:#0d6efd">Đăng xuất</button>
  </div>
</div>

<!-- Sidebar bên trái -->
<div class="sidebar d-flex flex-column pt-3">
  <nav class="nav flex-column mt-2">
    <a class="nav-link " href="./Account.html">
        <i class="bi bi-people-fill text-primary"></i> 
        <span>Quản lý tài khoản</span>
    </a>
    <a class="nav-link" href="./Customer.html">
        <i class="bi bi-person-lines-fill text-primary"></i> 
        <span>Quản lý khách hàng</span>
    </a>
    <a class="nav-link" href="./Product.html">
        <i class="bi bi-box-seam text-primary"></i> 
        <span>Quản lý sản phẩm</span>
    </a>
    <a class="nav-link" href="./Category.html">
        <i class="bi bi-tags-fill text-primary"></i> 
        <span>Quản lý loại sản phẩm</span>
    </a>
    <a class="nav-link" href="./Supplier.html">
        <i class="bi bi-truck text-primary"></i> 
        <span>Quản lý nhà cung cấp</span>
    </a>
    <a class="nav-link" href="./Promotion.html">
        <i class="bi bi-gift-fill text-primary"></i> 
        <span>Quản lý khuyến mãi</span>
    </a>
    <a class="nav-link active" href="./OrderManager.html">
        <i class="bi bi-receipt-cutoff text-primary"></i> 
        <span>Lịch sử đơn hàng</span>
    </a>
    <a class="nav-link" href="#">
      <i class="bi bi-journal-plus text-primary"></i>
      <span>Quản lý phiếu nhập</span>
    </a>
    <a class="nav-link" href="./Statistic.html">
        <i class="bi bi-bar-chart-line-fill text-primary"></i> 
        <span>Thống kê</span>
    </a>
  </nav>
</div>

<!-- Nội dung chính -->
<div class="content">
  <div class="container-fluid p-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
      <h3 class="fw-bold">Lịch sử đơn hàng</h3>   
    </div>
    <!-- Thanh lọc -->
    <div class="d-flex justify-content-between align-items-start mb-3 flex-wrap gap-2">
        <!-- Thanh lọc bên trái -->
        <div class="d-flex flex-wrap gap-2 align-items-center flex-grow-1">
          <!-- Lọc theo trạng thái -->
            <select class="form-select form-select-sm" style="width: 180px;">
                <option value="">Tất cả trạng thái</option>
                <option value="pending">Chờ xử lý</option>
                <option value="paid">Đã thanh toán</option>
                <option value="canceled">Đã hủy</option>
            </select>

            <!-- Lọc theo khoảng giá -->
            <div class="input-group input-group-sm" style="width: 260px;">
                <span class="input-group-text">Giá từ</span>
                <input type="number" class="form-control" placeholder="" min="0">
                <span class="input-group-text">đến</span>
                <input type="number" class="form-control" placeholder="" min="0">
            </div>
            <!-- Ô tìm kiếm -->
            <div class="input-group input-group-sm" style="width: 300px;">
                <input type="text" class="form-control" placeholder="Nhập mã đơn hàng">
                <button class="btn btn-primary btn-search" type="button">
                    <i class="bi bi-search"></i>
                </button>
            </div>
        </div>

        <!-- Nút Thêm mới bên phải -->
        <!-- <button class="btn btn-primary btn-sm btn-add" data-bs-toggle="modal" data-bs-target="#customerModal">
            <i class="bi bi-plus-circle"></i> Thêm mới
        </button> -->
    </div>
    <div class="card shadow-sm">
      <div class="card-body">
        <div class="table-responsive">
          
            <table class="table table-bordered align-middle">
                <thead class="table-light thead-separator ">
                <tr class="text-center">
                    <th style="width:100px;">ID</th>
                    <th>Mã khách hàng</th>
                    <th>Ngày đặt</th>
                    <th>Tổng giá trị đơn hàng</th>
                    <th>Trạng thái đơn hàng</th>
                    <th style="width:150px;">Hành động</th>
                </tr>
                </thead>
                <tbody>
                    <tr class="text-center">
                        <td class="text-center">KH1</td>
                        <td>Ngô Đức Trọng</td>
                        <td>0987678776</td>
                        <td>abddjjdj12@gmail.com</td>
                         <td>
                            <span class="badge rounded-pill px-3 py-2 fw-semibold"style="background-color:#0d6efd1a; color:#0d6efd; border:1px solid #0d6efd;">
                                Đã thanh toán
                            </span>                   
                        </td>
                        <td class="text-center">
                           <button class="btn btn-sm btn-light border me-1 btn-view" title="Xem" data-bs-toggle="modal" data-bs-target="#orderHistoryModal">
                                <i class="bi bi-eye text-primary"></i>
                            </button>
                            <button class="btn btn-sm btn-light border me-1 btn-print" title="In hóa đơn">
                              <i class="bi bi-printer text-secondary"></i>
                          </button>
                            <!-- <button class="btn btn-sm btn-light border me-1 btn-edit" title="Sửa" data-bs-toggle="modal" data-bs-target="#customerModal">
                                <i class="bi bi-pencil text-success"></i>
                            </button>
                            <button class="btn btn-sm btn-light border btn-delete" title="Xóa">
                                <i class="bi bi-trash text-danger"></i>
                            </button> -->
                        </td>
                    </tr>
                    <tr class="text-center">
                        <td class="text-center">KH1</td>
                        <td>Ngô Đức Trọng</td>
                        <td>0987678776</td>
                        <td>abddjjdj12@gmail.com</td>
                         <td>
                           <span class="badge rounded-pill px-3 py-2 fw-semibold" style="background-color:#ffc1071a; color:#b8860b; border:1px solid #ffc107;">
                                Chờ xử lý
                            </span>                     
                        </td>
                        <td class="text-center">
                           <button class="btn btn-sm btn-light border me-1 btn-view" title="Xem" data-bs-toggle="modal" data-bs-target="#orderHistoryModal">
                                <i class="bi bi-eye text-primary"></i>
                            </button>
                            <button class="btn btn-sm btn-light border me-1 btn-print" title="In hóa đơn">
                              <i class="bi bi-printer text-secondary"></i>
                            </button>
                            <!-- <button class="btn btn-sm btn-light border me-1 btn-edit" title="Sửa" data-bs-toggle="modal" data-bs-target="#customerModal">
                                <i class="bi bi-pencil text-success"></i>
                            </button>
                            <button class="btn btn-sm btn-light border btn-delete" title="Xóa">
                                <i class="bi bi-trash text-danger"></i>
                            </button> -->
                        </td>
                    </tr>
                    <tr class="text-center">
                        <td class="text-center">KH1</td>
                        <td>Ngô Đức Trọng</td>
                        <td>0987678776</td>
                        <td>abddjjdj12@gmail.com</td>
                         <td>
                            <span class="badge rounded-pill px-3 py-2 fw-semibold" 
                                style="background-color: #dc35451a; color: #dc3545; border: 1px solid #dc3545;">
                              Đã hủy
                            </span>                
                        </td>
                        <td class="text-center">
                           <button class="btn btn-sm btn-light border me-1 btn-view" title="Xem" data-bs-toggle="modal" data-bs-target="#orderHistoryModal">
                                <i class="bi bi-eye text-primary"></i>
                            </button>
                            <button class="btn btn-sm btn-light border me-1 btn-print" title="In hóa đơn">
                              <i class="bi bi-printer text-secondary"></i>
                            </button>
                            <!-- <button class="btn btn-sm btn-light border me-1 btn-edit" title="Sửa" data-bs-toggle="modal" data-bs-target="#customerModal">
                                <i class="bi bi-pencil text-success"></i>
                            </button>
                            <button class="btn btn-sm btn-light border btn-delete" title="Xóa">
                                <i class="bi bi-trash text-danger"></i>
                            </button> -->
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- Phân trang-->
        <nav class="mt-3">
            <ul class="pagination justify-content-center modern-pagination-light">
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Previous">&laquo;</a>
                </li>
                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">&raquo;</a>
                </li>
            </ul>
        </nav>
      </div>
    </div>
  </div>
</div>
<!-- Modal dùng chung -->
<div class="modal fade" id="orderHistoryModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content">
      
      <!-- Header -->
      <div class="modal-header">
        <h5 class="modal-title" id="orderHistoryModalTitle">Quản lý đơn hàng</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      
      <!-- Body -->
      <div class="modal-body">
        <form id="orderHistoryForm">
          <div class="row">
            <div class="col-md-7">
                <table class="table table-bordered cart-table thead-separator">
                  <thead class="table-light">
                    <tr class="text-center">
                        <th>Sản phẩm</th>
                        <th>Hình ảnh</th>
                        <th>Đơn giá</th>
                        <th>Số lượng</th>
                        <th>Thành tiền</th>
                    </tr>
                  </thead>
                  <tbody id="cart-body " class="align-middle">
                      <!-- Xử lý js -->
                       <td class=" text-center">Sản phẩm A</td>
                       <td class=" text-center">
                          <img src="../img/demo1.jpg" alt="CoCa Cola" style="width:60px; height:60px; object-fit:cover; border-radius:4px;">
                       </td>
                       <td class=" text-center" >10.000 đ</td>
                       <td class=" text-center">2</td>
                       <td class=" text-center">20.000 đ</td>   
                  </tbody>
               </table>
            </div>
            <div class="col-md-5">
              <div class="card shadow-sm">
                <div class="card-header bg-light fw-semibold">
                  Thông tin hóa đơn
                </div>
                <div class="card-body">
                  <div class="mb-2 d-flex justify-content-between">
                    <span class="fw-semibold">Tên khách hàng:</span>
                    <span>Ngô Đức Trọng</span>
                  </div>
                  <div class="mb-2 d-flex justify-content-between">
                    <span class="fw-semibold">Nhân viên phụ trách:</span>
                    <span>Nguyễn Văn A</span>
                  </div>
                  <div class="mb-2 d-flex justify-content-between">
                    <span class="fw-semibold">Ngày tạo hóa đơn:</span>
                    <span>07/10/2025</span>
                  </div>
                  <div class="mb-2 d-flex justify-content-between">
                    <span class="fw-semibold">Trạng thái:</span>
                    <span>
                      <span class="badge rounded-pill px-3 py-2 fw-semibold"
                        style="background-color:#ffc1071a; color:#b8860b; border:1px solid #ffc107;">
                        Chờ xử lý
                      </span>
                    </span>
                  </div>
                  <hr>
                  <div class="mb-2 d-flex justify-content-between">
                    <span class="fw-semibold">Thành tiền:</span>
                    <span>20.000 đ</span>
                  </div>
                  <div class="mb-2 d-flex justify-content-between">
                    <span class="fw-semibold">Mã giảm giá:</span>
                    <span>SALE10</span>
                  </div>
                  <div class="mb-2 d-flex justify-content-between">
                    <span class="fw-semibold">Số tiền giảm:</span>
                    <span>-2.000 đ</span>
                  </div>
                  <hr>
                  <div class="mb-2 d-flex justify-content-between fs-5">
                    <span class="fw-bold">Tổng thanh toán:</span>
                    <span class="fw-bold text-danger">18.000 đ</span>
                  </div>
                </div>
                <div class="card-footer text-end">
                  <button type="button" class="btn btn-outline-primary btn-sm me">
                    <i class="bi bi-printer"></i> In hóa đơn
                  </button>
                </div>
            </div>
          </div>
        </form>
      </div>
      
      <!-- Footer -->
      <div class="modal-footer">
        <button type="submit" form="orderHistoryForm" id="orderHistoryModalSaveBtn" class="btn btn-primary">Lưu</button>
      </div>
    </div>
  </div>
</div>
</body>
</html>
<script src="../js/Toast.js"></script>
<script src="../js/OrderManager.js"></script>
