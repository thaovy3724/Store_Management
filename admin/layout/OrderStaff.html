<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Admin CRUD - Demo</title>
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
  <script src="./node_modules/html5-qrcode/html5-qrcode.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html5-qrcode/2.3.4/html5-qrcode.min.js" integrity="sha512-k/KAe4Yff9EUdYI5/IAHlwUswqeipP+Cp5qnrsUjTPCgl51La2/JhyyjNciztD7mWNKLSXci48m7cctATKfLlQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/admin.css">
  <link rel="stylesheet" href="../css/order.css">
</head>
<body>
<!-- Topbar -->
<div class="topbar">
  <div class="brand">Staff Panel</div>
    <div class="d-flex align-items-center">
    <span class="user-info me-2">Xin chào, <a href="#" class="fw-bold text-decoration-none" style="color:#0d6efd">Ngô Đức Trọng</a></span>
    <span class="text-muted mx-2">|</span>
    <button class="btn btn-link btn-sm p-0 text-decoration-none" style="color:#0d6efd">Đăng xuất</button>
  </div>
</div>

<!-- Sidebar bên trái -->
<div class="sidebar d-flex flex-column pt-3">
  <nav class="nav flex-column mt-2">
     <a class="nav-link active" href="#">
        <i class="bi bi-receipt-cutoff text-primary"></i> 
        <span>Quản lý đơn hàng</span>
    </a>
    <a class="nav-link" href="#">
        <i class="bi bi-person-lines-fill text-primary"></i> 
        <span>Quản lý khách hàng</span>
    </a>
   
  </nav>
</div>

<!-- Nội dung chính -->
<div class="content">
  <div class="container-fluid p-1">
     <div class="row bg-white">
        <!-- Sidebar Danh Mục -->
       <div class="col-md-4 border-end" >
            <!-- Thanh tìm kiếm -->
            <div class="row mt-3 mb-2 ">
                <div class="col-4">
                    <select class="form-select form-select-sm">
                        <option value="ten">Tất cả</option>
                        <option value="ma">Loại 1</option>
                        <option value="gia">Loại 2</option>
                    </select>
                </div>
               <div class="col-6">
                    <div class="input-group input-group-sm">
                        <input type="text" class="form-control" placeholder="Nhập tên, mã sản phẩm">
                        <button class="btn btn-primary" type="button">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                </div>
                <div class="col-2">
                    <button id="toggleScannerBtn" class="btn btn-sm btn-primary w-100 ">
                        <i class="bi bi-upc-scan"></i>
                    </button>
                </div>
            </div>
            <!-- <div class="row mb-3">
                <main id="cameraContainer">
                    <div id="reader"></div>
                    <div id="result"></div>
                </main>
            </div> -->
            <main>
                <div id="reader"></div>
                <div id="result"></div>
            </main>
    
            <!-- Danh sách sản phẩm -->
            <div class="row">
                <div class="col-4 d-flex ">
                    <div class="product-card d-flex flex-column justify-content-between h-80 p-2">
                        <img src="/admin/img/demo1.jpg" alt="Áo sơ mi nữ">
                        <p class="text-center">Áo sơ mi nữ Milaross aa aa addd dd </p>
                        <span class="product-price text-center">250,000</span>
                    </div>
                </div>
                <div class="col-4 d-flex">
                    <div class="product-card d-flex flex-column justify-content-between h-80 p-2">
                        <img src="/admin/img/demo1.jpg" alt="Áo sơ mi nữ">
                        <p class="text-center">Áo nữ Mi</p>
                        <span class="product-price text-center">250,000</span>
                    </div>
                </div>
                <div class="col-4 d-flex ">
                    <div class="product-card d-flex flex-column justify-content-between h-80 p-2">
                        <img src="/admin/img/demo1.jpg" alt="Áo sơ mi nữ">
                        <p class="text-center">Áo sơ mi nữ Milaross aa aa addd dd </p>
                        <span class="product-price text-center">250,000</span>
                    </div>
                </div>
                <div class="col-4 d-flex">
                    <div class="product-card d-flex flex-column justify-content-between h-80 p-2">
                        <img src="/admin/img/demo1.jpg" alt="Áo sơ mi nữ">
                        <p class="text-center">Áo nữ Mi</p>
                        <span class="product-price text-center">250,000</span>
                    </div>
                </div>
                <div class="col-4 d-flex ">
                    <div class="product-card d-flex flex-column justify-content-between h-80 p-2">
                        <img src="/admin/img/demo1.jpg" alt="Áo sơ mi nữ">
                        <p class="text-center">Áo sơ mi nữ Milaross aa aa addd dd </p>
                        <span class="product-price text-center">250,000</span>
                    </div>
                </div>
                <div class="col-4 d-flex">
                    <div class="product-card d-flex flex-column justify-content-between h-80 p-2">
                        <img src="/admin/img/demo1.jpg" alt="Áo sơ mi nữ">
                        <p class="text-center">Áo nữ Mi</p>
                        <span class="product-price text-center">250,000</span>
                    </div>
                </div>
            </div>
            <!-- Phân trang -->
            <div class="row">
                <nav class="">
                    <ul class="pagination justify-content-end modern-pagination-light">
                        <li class="page-item">
                            <a class="page-link" href="#" aria-label="Previous">&laquo;</a>
                        </li>
                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item">
                            <a class="page-link" href="#" aria-label="Next">&raquo;</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
        <!-- Giỏ Hàng -->
        <div class="col-md-8">
            <div class="" style="min-height: 400px;">
                <h5 class="mt-3">Phiếu Hàng</h5>
                <div class="cart-wrapper table-responsive">
                    <table class="table table-bordered cart-table thead-separator">
                        <thead class="table-light">
                        <tr class="text-center">
                            <th style="width: 50px;"></th>
                            <th>Sản phẩm</th>
                            <th>Đơn giá</th>
                            <th>Số lượng</th>
                            <th>Thành tiền</th>
                        </tr>
                        </thead>
                        <tbody id="cart-body">
                            <!-- Xử lý js -->
                             
                        </tbody>
                    </table>
                </div>

            </div>
            <hr class="my-3">
            <div>
                <div class="row">
                    <div class="col-md-6" style="border-right: 2px dashed #6c757d;">
                        <!-- Thông tin khách hàng -->
                         <div class="row mb-3">
                            <label class="form-label fw-medium">Khách hàng</label>
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Nhập số điện thoại">
                                <button class="btn btn-outline-primary" type="button" data-bs-toggle="modal" data-bs-target="#modalThemKhach">
                                    <i class="bi bi-person-plus"></i>
                                </button>
                            </div>
                            <div class="form-text text-secondary fst-italic">Nguyễn Mai Linh - 0984 446 246</div>
                        </div>
                       <!-- Khuyến mãi -->
                        <div class="row mb-3">
                            <label class="form-label fw-medium">Khuyến mãi</label>
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Nhập mã khuyến mãi">
                                <button class="btn btn-outline-primary" type="button" data-bs-toggle="modal" data-bs-target="#promotionModal">
                                    <i class="bi bi-check2-circle"></i> Chọn khuyến mãi
                                </button>
                            </div>
                            <div class="form-text text-secondary fst-italic">Mã khuyến mãi hợp lệ: Giảm 10%</div>
                        </div>
                    </div>
                    <!-- Thông tin thanh toán -->
                    <div class="col-md-6">
                        <div class="total-box">
                            <p>Tổng tiền hàng: <strong>1,110,000đ</strong></p>
                            <p>Khuyến mãi: -22,000đ</p>
                            <h5 class="text-danger">Thành tiền: 1,110,000đ</h5>
                            <!-- Các giao diện thanh toán -->
                             <!-- Tiền mặt -->
                            <div id="payment-cash" class="payment-form">
                               <!-- Nút Thanh toán -->
                                <button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#paymentModal">
                                <i class="bi me-2"></i> Thanh toán
                                </button>
                                <button class="btn btn-outline-danger w-100 mt-2">
                                    <i class="bi bi-x-circle me-2"></i> Hủy
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </div>
</div>
<!-- Modal thêm khách hàng -->
 <div class="modal fade" id="modalThemKhach" tabindex="-1" aria-labelledby="modalThemKhachLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalThemKhachLabel">Thêm khách hàng</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label class="form-label">Tên khách hàng</label>
            <input type="text" class="form-control" placeholder="Nhập tên khách hàng">
          </div>
           <div class="mb-3">
            <label class="form-label">Số điện thoại</label>
            <input type="text" class="form-control" id="phonenumber">
            <small id="phonenumber-msg" class="form-text text-danger">Họ tên không để trống</small>
          </div>
          <div class="mb-3">
            <label class="form-label">Email</label>
            <input type="email" class="form-control" id="customeremail">
            <small id="customeremail-msg" class="form-text text-danger">customername không để trống</small>
          </div>
          <div class="mb-3">
            <label class="form-label">Địa chỉ</label>
            <textarea class="form-control" id="address" rows="3"></textarea>
            <small id="address-msg" class="form-text text-danger">Mật khẩu không để trống</small>
          </div>
          <!-- <div class="mb-3">
            <label class="form-label">Email</label>
            <input type="email" class="form-control" placeholder="Nhập email">
          </div> -->
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary">Lưu</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal khuyến mãi -->
<div class="modal fade" id="promotionModal" tabindex="-1" aria-labelledby="promotionModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="promotionModalLabel">Danh sách khuyến mãi</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <table class="table table-bordered cart-table thead-separator">
                    <thead class= "table-light thead-separator">
                        <tr class="text-center">
                            <th scope="col">Chọn</th>
                            <th scope="col">Mã khuyến mãi</th>
                            <th scope="col">Giá trị đơn hàng tối thiểu</th>
                            <th scope="col">Giá trị</th>
                            <th scope="col">Hết hạn</th>
                        </tr>
                    </thead>
                    <tbody id="promotionTableBody">
                        <!-- Dữ liệu mẫu được code trực tiếp bằng <tr> -->
                        <tr>
                            <td class="align-middle text-center"><input type="radio" name="promotion" value="1" class="form-check-input"></td>
                            <td>Giảm giá 10%</td>
                            <td>Giảm 10% cho đơn hàng trên 500k</td>
                            <td>10%</td>
                            <td>31/12/2025</td>
                        </tr>
                        <tr>
                            <td class="align-middle text-center"><input type="radio" name="promotion" value="2" class="form-check-input"></td>
                            <td>Miễn phí vận chuyển</td>
                            <td>Miễn phí vận chuyển cho đơn hàng trên 300k</td>
                            <td>Free Shipping</td>
                            <td>15/11/2025</td>
                        </tr>
                        <tr>
                            <td class="align-middle text-center"><input type="radio" name="promotion" value="3" class="form-check-input"></td>
                            <td>Giảm 50k</td>
                            <td>Giảm 50k cho đơn hàng đầu tiên</td>
                            <td>50k</td>
                            <td>30/10/2025</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                <button type="button" class="btn btn-primary" onclick="applyPromotion()">Áp dụng</button>
            </div>
        </div>
    </div>
</div>
<!-- Modal thanh toán -->
<div class="modal fade" id="paymentModal" tabindex="-1" aria-labelledby="paymentModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title" id="paymentModalLabel">Chọn hình thức thanh toán</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
      </div>

      <div class="modal-body">
        <div class="row">
          <div class="col-md-4 border-end">
            <!-- Danh sách nút lựa chọn -->
            <div class="list-group">
              <button class="list-group-item list-group-item-action" onclick="showPaymentOption('cash')">
                <i class="bi bi-cash-coin me-2"></i> Tiền mặt
              </button>
              <button class="list-group-item list-group-item-action" onclick="showPaymentOption('wallet')">
                <i class="bi bi-wallet2 me-2"></i> Ví điện tử
              </button>
              <button class="list-group-item list-group-item-action" onclick="showPaymentOption('card')">
                <i class="bi bi-credit-card me-2"></i> Thanh toán bằng thẻ
              </button>
              <button class="list-group-item list-group-item-action" onclick="showPaymentOption('bank')">
                <i class="bi bi-bank me-2"></i> Chuyển khoản
              </button>
            </div>
          </div>

          <div class="col-md-8">
            <!-- Giao diện tương ứng -->
           <div id="cash" class="payment-content d-none">
                
                <p>Tổng tiền hàng: <strong>1,110,000đ</strong></p>
                <p>Khuyến mãi: -22,000đ</p>
                <h5 class="text-danger">Thành tiền: 1,110,000đ</h5>
                <div class="mt-3">
                    <button class="btn btn-success" onclick="confirmCashPayment()">Xác nhận thanh toán</button>
                </div>
            </div>

            <div id="wallet" class="payment-content d-none">
                <p>Tổng tiền hàng: <strong>1,110,000đ</strong></p>
                <p>Khuyến mãi: -22,000đ</p>
                <h5 class="text-danger">Thành tiền: 1,110,000đ</h5>
              <button class="btn btn-success">Thanh toán qua VNPay</button>
            </div>

            <div id="card" class="payment-content d-none">
              <h6>Thanh toán bằng thẻ</h6>
              <form>
                <div class="mb-3">
                  <label class="form-label">Số thẻ</label>
                  <input type="text" class="form-control" placeholder="Nhập số thẻ của bạn">
                </div>
                <div class="mb-3">
                  <label class="form-label">Tên chủ thẻ</label>
                  <input type="text" class="form-control" placeholder="Tên in trên thẻ">
                </div>
                <div class="mb-3 d-flex">
                  <input type="text" class="form-control me-2" placeholder="MM/YY">
                  <input type="text" class="form-control" placeholder="CVV">
                </div>
                <button class="btn btn-success w-100">Thanh toán</button>
              </form>
            </div>

            <div id="bank" class="payment-content d-none">
              <h6>Chuyển khoản ngân hàng</h6>
              <p>Vui lòng chuyển khoản đến tài khoản dưới đây:</p>
              <ul>
                <li><strong>Ngân hàng:</strong> Vietcombank</li>
                <li><strong>Số tài khoản:</strong> 0123456789</li>
                <li><strong>Chủ tài khoản:</strong> Công ty ABC</li>
              </ul>
              <p>Sau khi chuyển khoản, vui lòng gửi biên lai để xác nhận đơn hàng.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
          <i class="bi bi-x-circle me-2"></i> Hủy
        </button>
      </div>

    </div>
  </div>
</div>
</body>
</html>
<script src="../js/Toast.js"></script>
<script src="./node_modules/html5-qrcode/html5-qrcode.min.js"></script>
<script src="../js/Order.js" defer></script>

